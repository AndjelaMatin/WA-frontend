{"ast":null,"code":"export default {\n  props: {\n    recept: {\n      type: Object,\n      required: true\n    },\n    showActions: {\n      type: Boolean,\n      default: false\n    },\n    liked: {\n      type: Boolean,\n      required: true\n    },\n    commented: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data() {\n    return {\n      showCommentsModal: false,\n      selectedReceptId: null,\n      newComment: \"\"\n    };\n  },\n  methods: {\n    toggleCommentsModal(receptId = null) {\n      if (receptId) {\n        this.selectedReceptId = receptId;\n      } else {\n        console.warn(\"Nije proslijeđen receptId za otvaranje modala.\");\n      }\n      this.showCommentsModal = !this.showCommentsModal;\n    },\n    addComment() {\n      if (!this.newComment.trim()) {\n        alert(\"Komentar ne može biti prazan.\");\n        return;\n      }\n      this.$emit(\"add-comment\", this.recept._id, this.newComment);\n      this.newComment = \"\";\n      this.toggleCommentsModal();\n    }\n  },\n  mounted() {\n    console.log(\"Recept prop:\", this.recept);\n  }\n};","map":{"version":3,"names":["props","recept","type","Object","required","showActions","Boolean","default","liked","commented","data","showCommentsModal","selectedReceptId","newComment","methods","toggleCommentsModal","receptId","console","warn","addComment","trim","alert","$emit","_id","mounted","log"],"sources":["C:\\Users\\MATIN\\Desktop\\web aplikacije\\WA-frontend\\src\\components\\CardComponent.vue"],"sourcesContent":["<template>\r\n  <div class=\"recept-card\">\r\n    <img :src=\"recept.slika\" alt=\"Slika recepta\" class=\"recept-image\" />\r\n    <h2 class=\"recept-naziv\">{{ recept.naziv }}</h2>\r\n    <p><strong>Sastojci:</strong> {{ recept.sastojci.join(\", \") }}</p>\r\n    <p><strong>Porcije:</strong> {{ recept.porcije }}</p>\r\n    <div class=\"recept-interakcije\">\r\n      <div class=\"like-container\">\r\n        <button @click=\"$emit('toggle-like', recept._id)\" class=\"recept-button1\">\r\n          <img height=\"25px\" :src=\"liked ? 'heartda.png' : 'heartne.png'\" alt=\"Heart\" />\r\n<span>{{ recept.svidanja }}</span>\r\n</button>\r\n        \r\n      </div>\r\n      <div class=\"komentar-container\">\r\n  <button class=\"recept-button1\" @click=\"toggleCommentsModal(recept._id)\">\r\n    <img\r\n      height=\"25px\"\r\n      :src=\"commented ? 'commentda.png' : 'commentne.png'\"\r\n      alt=\"Komentari\"\r\n    />\r\n    <span>{{ recept.komentari.length }}</span>\r\n  </button>\r\n</div>\r\n\r\n<div\r\n v-if=\"showCommentsModal && selectedReceptId === recept._id\"\r\n  :id=\"'modal-' + recept._id\"\r\n  class=\"modal-overlay\"\r\n  @click.self=\"toggleCommentsModal\"\r\n>\r\n  <div class=\"modal-content\">\r\n    <h3 class=\"modal-title\">Komentari</h3>\r\n    <div class=\"modal-body\">\r\n      <ul v-if=\"recept.komentari.length > 0\" class=\"comments-list\">\r\n        <li v-for=\"komentar in recept.komentari\" :key=\"komentar.datum\" class=\"comment-item\">\r\n          <p class=\"comment-text\">{{ komentar.tekst }}</p>\r\n          <p class=\"comment-author\"><strong>{{ komentar.korisnik }}</strong></p>\r\n        </li>\r\n      </ul>\r\n      <p v-else class=\"no-comments\">Nema komentara.</p>\r\n      <textarea \r\n        v-model=\"newComment\" \r\n        placeholder=\"Dodajte komentar...\" \r\n        class=\"comment-input\"\r\n      ></textarea>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button class=\"btn btn-primary\" @click=\"addComment\">Dodaj komentar</button>\r\n      <button class=\"btn btn-secondary\" @click=\"toggleCommentsModal\">Zatvori</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n    </div>\r\n    <button class=\"recept-button\" @click=\"$emit('open-recipe', recept._id)\">\r\n      Pogledaj recept\r\n    </button>\r\n    <div v-if=\"showActions\" class=\"action-buttons\">\r\n      <button class=\"edit-button\" @click=\"$emit('edit-recipe', recept._id)\">Uredi</button>\r\n      <button class=\"delete-button\" @click=\"$emit('delete-recipe', recept._id)\">Obriši</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    recept:{\r\n      type: Object,\r\n      required: true,\r\n    } ,\r\n    showActions: { \r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    liked: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    commented: {\r\n    type: Boolean,\r\n    required: true,\r\n  },\r\n  },\r\n  data() {\r\n  return {\r\n    showCommentsModal: false, \r\n    selectedReceptId: null,\r\n    newComment: \"\", \r\n  };},\r\n  methods: {\r\n    toggleCommentsModal(receptId = null) {\r\n  if (receptId) {\r\n    this.selectedReceptId = receptId;\r\n  } else {\r\n    console.warn(\"Nije proslijeđen receptId za otvaranje modala.\");\r\n  }\r\n  this.showCommentsModal = !this.showCommentsModal;\r\n},\r\n  addComment() {\r\n    if (!this.newComment.trim()) {\r\n      alert(\"Komentar ne može biti prazan.\");\r\n      return;\r\n    }\r\n    this.$emit(\"add-comment\", this.recept._id, this.newComment); \r\n    this.newComment = \"\"; \r\n    this.toggleCommentsModal();\r\n  },\r\n},\r\n  mounted() {\r\n    console.log(\"Recept prop:\", this.recept);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background: #fee6c1;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  width: 90%;\r\n  max-width: 500px;\r\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);\r\n  text-align: center;\r\n}\r\n\r\n.modal-title {\r\n  font-size: 1.5rem;\r\n  color: #2a231f;\r\n  margin-bottom: 15px;\r\n  font-weight: bold;\r\n}\r\n\r\n.modal-body {\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.comments-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.comment-item {\r\n  background: #fbf5e5;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.comment-text {\r\n  font-size: 1rem;\r\n  color: #2a231f;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.comment-author {\r\n  font-size: 0.9rem;\r\n  color: #c97d60;\r\n}\r\n\r\n.no-comments {\r\n  color: #888;\r\n  font-style: italic;\r\n}\r\n\r\n.comment-input {\r\n  width: 100%;\r\n  height: 80px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 8px;\r\n  padding: 10px;\r\n  font-size: 1rem;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.modal-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 10px;\r\n}\r\n\r\n.btn {\r\n  padding: 10px 15px;\r\n  border-radius: 5px;\r\n  border: none;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  transition: background 0.3s ease, transform 0.2s ease;\r\n}\r\n\r\n.btn-primary {\r\n  background-color: #2a231f;\r\n  color: #fff;\r\n}\r\n\r\n.btn-primary:hover {\r\n  background-color: #fbf5e5;\r\n  color: #2a231f;\r\n  transform: scale(1.05);\r\n}\r\n\r\n.btn-secondary {\r\n  background-color: #c94e50;\r\n  color: #fff;\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background-color: #ff6b6b;\r\n  transform: scale(1.05);\r\n}\r\n\r\n.action-buttons {\r\n  margin-top: 15px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 10px;\r\n}\r\n\r\n.edit-button,\r\n.delete-button {\r\n  padding: 10px 15px;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease, color 0.3s ease;\r\n}\r\n\r\n.edit-button {\r\n  background-color: #2a231f; \r\n  color: #fff;\r\n}\r\n\r\n.edit-button:hover {\r\n  background-color: #fbf5e5; \r\n  color: #c97d60; \r\n}\r\n\r\n.delete-button {\r\n  background-color: #c94e50; \r\n  color: #fff;\r\n}\r\n\r\n.delete-button:hover {\r\n  background-color: #ff6b6b;\r\n  color: #fff;\r\n}\r\n\r\n.recept-card {\r\n  width: 100%;\r\n  max-width: 300px;\r\n  padding: 20px;\r\n  background-color: #fee6c1;\r\n  border: 1px solid #2a231f;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.recept-card:hover {\r\n  transform: scale(1.05);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.recept-image {\r\n  width: 100%;\r\n  height: 200px;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.recept-naziv {\r\n  font-size: 1.5rem;\r\n  color: #333;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.recept-interakcije {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n  padding: 0 10px;\r\n}\r\n\r\n.like-container,\r\n.komentar-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n}\r\n\r\n.recept-button {\r\n  padding: 10px 15px;\r\n  background: #2a231f;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  margin-top: 15px;\r\n  transition: background 0.3s ease;\r\n}\r\n.recept-button1 {\r\n  padding: 10px 15px;\r\n  background: #fee6c1;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  margin-top: 15px;\r\n  transition: background 0.3s ease;\r\n}\r\n.recept-button1:hover {\r\n  background: #fbf5e5;\r\n  color: #c97d60;\r\n}\r\n.recept-button:hover {\r\n  background: #fbf5e5;\r\n  color: #c97d60;\r\n}\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  width: 80%;\r\n  max-width: 500px;\r\n  text-align: center;\r\n}\r\n\r\ntextarea {\r\n  width: 100%;\r\n  height: 100px;\r\n  margin-bottom: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n}\r\n\r\nbutton {\r\n  margin-top: 10px;\r\n}\r\n\r\n</style>\r\n"],"mappings":"AAkEA,eAAe;EACbA,KAAK,EAAE;IACLC,MAAM,EAAC;MACLC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;IACAC,WAAW,EAAE;MACXH,IAAI,EAAEI,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDC,KAAK,EAAE;MACLN,IAAI,EAAEI,OAAO;MACbF,QAAQ,EAAE;IACZ,CAAC;IACDK,SAAS,EAAE;MACXP,IAAI,EAAEI,OAAO;MACbF,QAAQ,EAAE;IACZ;EACA,CAAC;EACDM,IAAIA,CAAA,EAAG;IACP,OAAO;MACLC,iBAAiB,EAAE,KAAK;MACxBC,gBAAgB,EAAE,IAAI;MACtBC,UAAU,EAAE;IACd,CAAC;EAAC,CAAC;EACHC,OAAO,EAAE;IACPC,mBAAmBA,CAACC,QAAO,GAAI,IAAI,EAAE;MACvC,IAAIA,QAAQ,EAAE;QACZ,IAAI,CAACJ,gBAAe,GAAII,QAAQ;MAClC,OAAO;QACLC,OAAO,CAACC,IAAI,CAAC,gDAAgD,CAAC;MAChE;MACA,IAAI,CAACP,iBAAgB,GAAI,CAAC,IAAI,CAACA,iBAAiB;IAClD,CAAC;IACCQ,UAAUA,CAAA,EAAG;MACX,IAAI,CAAC,IAAI,CAACN,UAAU,CAACO,IAAI,CAAC,CAAC,EAAE;QAC3BC,KAAK,CAAC,+BAA+B,CAAC;QACtC;MACF;MACA,IAAI,CAACC,KAAK,CAAC,aAAa,EAAE,IAAI,CAACrB,MAAM,CAACsB,GAAG,EAAE,IAAI,CAACV,UAAU,CAAC;MAC3D,IAAI,CAACA,UAAS,GAAI,EAAE;MACpB,IAAI,CAACE,mBAAmB,CAAC,CAAC;IAC5B;EACF,CAAC;EACCS,OAAOA,CAAA,EAAG;IACRP,OAAO,CAACQ,GAAG,CAAC,cAAc,EAAE,IAAI,CAACxB,MAAM,CAAC;EAC1C;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}